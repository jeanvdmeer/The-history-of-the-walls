## Data
In info.txt the link can be found to access the datasets that contain the data used to develop and test the tool, also following the standards described in the Thesis' report.

As the proof of concept developed in the tool demonstrates how IFC elements can be updated in an IFC project, created or deleted, by examples of the update of walls, ceilings and columns, the datasets are also divided between datasets that can be used to update walls, or columns, or ceilings. While technically it is possible to update both e.g. walls and ceilings, or columns, or all of those in a file, if all of those elements in a scan are segmented, it was decided to not do so for practical reasons, such as a bottom-up approach of developing a methodology for walls, a methodology for columns and a methodology for ceilings. One limitation that could be encountered in the current implementation is that if e.g. both walls and ceilings have to be updated in a building, the ceiling available in the IFC model will cover the visualization of the walls, making it harder to see and check which elements were changed. In a commercial implementation of this idea, tools to hide a ceiling, or create sections in the 3D viewer could be implemented to handle the update of several types of elements and several building storeys at the same time. For the most part the algorithms already handle the update of multi-room and multi-storey projects already, with the current limitations being the just mentioned visualization and also the processing speed of a large building's update. (with the largest computational limitation being the current conversion from IFC to STEP to aid geometric visualization).

## Instructions to use the data
Two folders contain datasets that can be used for updating columns:

### Atlas 8.201 (column tests)
    - 8201fullRoomScanGroundTruth.txt -> this is just the complete scan of the room, but this scan does not need to be used in the tool, only the point clouds of the segmented columns are loaded into the tool. This complete scan could be used however for a "Room Mode" version of the column update (which was not implemented, Room Mode was implemented only in walls), which could allow the user to point the area scanned and its volume compared to the total area of the building, to only check the scanned area.
    - 8201groundTruth-2columns.ifc -> this is the IFC file based off the larger IFC file of the entire building, with the as-designed dimensions and quantity of columns.
    - 8201with6concCols3steelCols.ifc -> this is an edited version of the original as-designed file, simulating a designed building with 6 concrete columns and 3 steel columns (those last embedded in walls). In the segmented columns database there are possibilities to simulate a scan of the room where 2 columns are scanned, or 6 columns, or 7 columns. The 2 scanned columns match 2 of the 6 concrete columns. The 6 scanned columns are more or less at a similar position to that of the 6 IFC columns, and some of them will get their position updated. The 3 steel columns are thin enough to completelly fit within a wall, so they cannot be detected by scanning sensors. The script should then print a warning that some of the columns in the project are embedded and cannot be compared to the point cloud data. One of the concrete columns is however big enough to be detected by the scanner, so it is checked against the respective column in the IFC file. The main focus of the script is however to know how many walls are embedded in walls, compare it to how many columns are not embedded in walls to warn the user about things that cannot be checked by point clouds, and update those columns that are not too close to walls.
    - 8201with7concCols.ifc -> this is a similar model to the one above, except it has one more column. For all the simulated as-designed projects above, and for all segmented columns that will be discussed next, the user can choose to only load a few or many of the segmented columns to test how the update and warnings work. For instance, if the ground truth IFC file with only 2 columns is used, and 5 or 6 scanned columns are loaded as the point cloud data scanned of the real building, then the model will create those new columns that were missing in the as-designed IFC. Except if one of the point cloud columns loaded is embedded in a wall. Likewise if a as-designed IFC model with several columns (6 or 7 concrete columns) is loaded, but only 1, 2 or 3 point cloud segmented columns are loaded, that would mean that we had a project with many columns but only a few are found at the building. In that case many of the IFC columns will be deleted, but a warning should be made that the original project hade many more columns that could not be found at the building.
    - When opening the interface, first load the IFC file that should stand for the as-designed model, choose the option "load segmented columns", under the menu "Columns", select then the segmented column(s), and then choose the submenu "check columns and update". This should update the columns and give you the necessary warnings.
    - segmented columns/
         *here are 3 folders, one with 2 segmented columns, one with 6, and one with 7, for which the tests described above can be done
 
### Atlas 8.304 (column tests)
      * here the same idea of 8.201 is followed, with a point cloud file of the entire room that does not need to be used at for the segmentation, and the IFC file of the real room, that has only one column, where interestingly enough the position of the real as-designed project deviates from the real building, without needs for "simulations" of changes... Which in a way was what prompted the development of this tool. This IFC column can have its position updated to the real position found at the building, and there are also other examples of simulated "as-designed" projects of the same room with more columns, and respective segmented columns to test each situation. When opening the interface, first load the IFC file that should stand for the as-designed model, choose the option "load segmented columns", under the menu "Columns", select then the segmented column(s), and then choose the submenu "check columns and update". This should update the columns and give you the necessary warnings.


### Atlas 8.304 (wall tests)
       * This small project allowed the begin of the development of the tools that update walls. Here several IFC files are available to test the many possibilities when updating walls: deleting a wall (8304plus1wallPlus1Door.ifc), which includes deleting all its decompositions such as doors and windows, and creating new walls with various positions and various connections. This file can be updated both using Room Mode and using the normal, older, wall update menu. If Room Mode is going to be used, the point cloud  of the entire room, found in "scanned area point cloud for Room Mode", is loaded first (after the IFC as-designed file), to create a "alpha-hull", or a volume around this point cloud to test and update only the scanned area.

### Haus30 (wall tests)
     * This project is the most complex dataset used in the thesis, and has various sub-case studies, with the possibility to create more, and is focused on the update of walls. At the root folder of Haus30 there is an image, "Haus30wallNames - ground truth.png", and a folder, "segmented walls ground truth (do not use, only copy walls from here)", that represent the original scanned walls of the entire floor, and the image has the numnber of each wall in the ground truth folder. There are 84 walls and they are numbered from wall1 to wall84, with the number relative to each wall shown in the image. However, as can be seen in RM test1, RM test2 and RM test3, and because this dataset is focused on testing Room Mode, when only a scan of part of the building is done, of a few rooms and part of a corridor, for instance, only some of those 84 walls are chosen, and the tool renames the segmented walls being tested in sequential order. So in order to not mess the original number of each wall, only a copy of the walls being used in a simulation is done, and then it is not a problem if a copy of them is renamed in a different folder. This model is also a multi-storey model, even though only one floor is scanned, but the fact that the IFC file has the floor stored as floor 1 instead of ground floor helped the creation and testing of a tool that can work in a multi-storey paradigm and work with floor elevations in IFC instead of just element elevations.
         * RM test1
         * This test deals with an adapted version of the original as-designed IFC, where an extra wall is added. In the area scanned, however, some point cloud walls from that region are not chosen, to simulate changes in the real building making the scanned area more open. The wall that got added to the original IFC file is deleted, as are other walls in another area of the scan to create a more open area. To use this dataset open the interface, open the ifc file at the first menu, then go to "Room Mode Walls", and in "load point cloud filerm" load the big point cloud located in "scanned area point cloud for Room Mode". After that, load the segmented scanned point cloud walls for the scanned area, and use the other menus to check and update the model.

         * RM test2
         * This test deals with creation of new walls in IFC, and complex connection points between walls. Two subtests are done. To do this, some walls were deleted from the original as-designed IFC file, to make as-designed files that, when crossed with all the available point cloud walls of the region, will prompt and update to add those walls into the IFC file. In one test, two of the three walls that meet each other in a point are deleted and recreated. This prompted some improvements in the code to improve the geometry at those connection points. In the second sub-test, all three walls that meet each other at that point are deleted, and when they are recreated in IFC, based off of point cloud geomtry, they are not that well connected to each other beacause they have no pre-existing IFC wall geometry at that point to base their starting point off. This prompted improvements in the script to do iterative improvements, first improving the geometry of walls to align it to pre-exiting walls, and then improving it again iteratively to align it to other new walls that could be connected to it. Futhermore the priority of choosing other walls in the same contiguous line, to align a wall, was added to the code, in cases where several walls of several alignments connect at the same point. To use this dataset open the interface, open the ifc file at the first menu, then go to "Room Mode Walls", and in "load point cloud filerm" load the big point cloud located in "scanned area point cloud for Room Mode". After that, load the segmented scanned point cloud walls for the scanned area, and use the other menus to check and update the model.

         * RM test3
         * This test is done in a different part of the building, and updates the model by deleting some walls in an area where the real building was renovated to have a more open space, and by creating a larger wall to separate two spaces (and deleting a short one that only partially closed the space). Another interesting characteristic of this test, is that even though a high threshold is used to test all the thick walls in this model, the matching of walls worked quite well without any troubles even for very short walls close to each other. To use this dataset open the interface, open the ifc file at the first menu, then go to "Room Mode Walls", and in "load point cloud filerm" load the big point cloud located in "scanned area point cloud for Room Mode". After that, load the segmented scanned point cloud walls for the scanned area, and use the other menus to check and update the model.


### EMC interior tests (ceiling test)
     * This is the dataset to test the update of ceiling heights. The scanned ceiling was at around the same height as in the as-designed IFC file, so the EMCinteriorGroundTruth.ifc file results in virtually no update. To test how different ceilings at different heights in the same floor can be updated if their height in the BIM project is different from the one found at the real building, this file was adapted into the "EMCinteriorEditedCeiling.ifc" file, that has one ceiling too high and the other one too low in the as-designed project, compared to the real building scanned data. Loading this just mentioned file, and then the scanned segmented ceilings, at the "Ceilings" menu, and then using the "check ceilings and update" submenu should perform the update of the ceiling position, for ceilings defined by both IfcRectangleProfileDef elements and IfcArbitraryClosedProfileDef elements.
     * Much simplification of the geometry of the original complete as-designed IFC file was necessary, due to not only how most STEP viewers, as the one used, process geometry, but even many IFC viewers (such as FreeCAD) struggled to load the original model of the EMC project.
